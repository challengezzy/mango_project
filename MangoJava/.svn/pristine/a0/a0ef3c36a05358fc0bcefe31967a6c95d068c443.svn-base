<root>
  <datatask desc="辽宁OLT比对过程">
    <initparam desc="初始化参数" hasChildren="false"/>
    <data_extract desc="GISCABLESECDUCTRELATION" isNeedRun="true" hasChildren="false" exceptionIgnore="true" rate="45">
        <from datasource="datasource_dqc" pkColumn="ID"  cols="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18">select ID,DEVICEID,REGION,NAME,CODE,DEVICEMODEL,DEVICETYPE,ACCESSMODE,VENDOR,IDINEMS,TELNETIP,OLTIP,MAC,SNCODE,SUMOFPORT,IMPORTDATE,OUTERVLAN,OLTPORTID from dqc_cmp_nm_pondevice t</from>
  <to datasource="datasource_dqc" toTable="CMP_NM_FTTB" pkColumn="ID" pkColumnType="NUMBER(18)" batch="10000">INSERT INTO CMP_NM_FTTB    (ID,DEVICEID,REGION,NAME,CODE,DEVICEMODEL,DEVICETYPE,ACCESSMODE,VENDOR,IDINEMS,TELNETIP,OLTIP,MAC,SNCODE,SUMOFPORT,IMPORTDATE,SVLAN,OLTPORTID) 
VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)</to>
  <fromColsName>ID,DEVICEID,REGION,NAME,CODE,DEVICEMODEL,DEVICETYPE,ACCESSMODE,VENDOR,IDINEMS,TELNETIP,OLTIP,MAC,SNCODE,SUMOFPORT,IMPORTDATE,OUTERVLAN,OLTPORTID</fromColsName>
      <option isIncrement="false" isCreateHashTable="true"></option>
    </data_extract>
  </datatask>
</root>

<data_extract desc="GISCABLESECDUCTRELATION" isNeedRun="true" hasChildren="false" exceptionIgnore="true" rate="45">
      <from datasource="datasource_nm" pkColumn="CABLESECTIONID,DUCTID" cols="1,2,3">select CABLESECTIONID,DUCTID,DOMAIN_ from GISCABLESECDUCTRELATION</from>
      <to datasource="datasource_dqc" pkColumn="CABLESECTIONID,DUCTID" pkColumnType="NUMBER(18),NUMBER(18)" toTable="DQC_NM_GIS_CABLESECDUCT_R" batch="10000">
      	insert into DQC_NM_GIS_CABLESECDUCT_R(CABLESECTIONID,DUCTID,DOMAIN_,importdate) values(?,?,?,sysdate)</to>
      <fromColsName>CABLESECTIONID,DUCTID,DOMAIN_</fromColsName>
      <option isIncrement="false" isCreateHashTable="true"></option>
    </data_extract>

<data_extract desc="dnport抽取" hasChildren="false" rate="23">
  <from datasource="datasource_nm" pkColumn="ID" cols="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103">Select ID,ISTEMPLATE,TEMPLATENAME,COMMENTS,DUPLEXMODE,SIGNALTYPE,ISMONITORED,PHYSTATUS,SERVICESTATUS,SERVICENO,ALIAS,CUSTOMERNO,SHORTCODE,VERSION,DNPORTTYPEID,DNPACKAGEID,MAXRATE,CURRENTRATE,FIBERMODE,RATERANGE,CIRNO,CIR,EIR,TELNUM,UPRATE,DOWNRATE,GBICCARDTYPE,ROLES,DNDEVICEID,POSITION,XPOSITION,YPOSITION,DIAMETER,RATE,IDINEMS,EXTENDATTRIBUTE1,EXTENDATTRIBUTE2,EXTENDATTRIBUTE3,EXTENDATTRIBUTE4,EXTENDATTRIBUTE5,EXTENDATTRIBUTE6,EXTENDATTRIBUTE7,EXTENDATTRIBUTE8,EXTENDATTRIBUTE9,EXTENDATTRIBUTE10,NAMEMONIKER,CODEMONIKER,INTERFACETYPE,CIRCUITOCCUPYSTATUS,ACCESSRATE,PREOCCUPIEDENDTIME,PREOCCUPIEDSTARTTIME,EXTENDATTRIBUTE11,EXTENDATTRIBUTE12,EXTENDATTRIBUTE13,EXTENDATTRIBUTE14,EXTENDATTRIBUTE15,EXTENDATTRIBUTE16,EXTENDATTRIBUTE17,EXTENDATTRIBUTE18,EXTENDATTRIBUTE19,EXTENDATTRIBUTE20,EXTENDATTRIBUTE21,EXTENDATTRIBUTE22,EXTENDATTRIBUTE23,EXTENDATTRIBUTE24,EXTENDATTRIBUTE25,EXTENDATTRIBUTE26,EXTENDATTRIBUTE27,EXTENDATTRIBUTE28,EXTENDATTRIBUTE29,EXTENDATTRIBUTE30,ROLESOVERLINE,ROLES_BK,LONGORLOCAL,REGIONID,CREATETIME,MODIFYTIME,SERVICEID,ADSLACCESSNO,USABILITY,RECBUSSTATUS,RECUSERCIRCUIT,IMPORTTIME,BINDTIME,WAITAUDIT,PREADSLACCESSNO,PRETELNUM,VOICESERVICESTATUS,SEQUNECE,MIXMETHOD,STARTSVLAN,ENDSVLAN,IPSEGMENTID,CVLAN,SVLAN,VCI,ISPRECISEBIND,VPI,USERMODEL,INSTRATE,ACTUALRATE,VOICEVLAN from dnport</from>
  <to datasource="datasource_dqc" toTable="DQC_NM_DN_PORT" pkColumn="ID" batch="10000">insert into DQC_NM_DN_PORT(ID,ISTEMPLATE,TEMPLATENAME,COMMENTS,DUPLEXMODE,SIGNALTYPE,ISMONITORED,PHYSTATUS,SERVICESTATUS,SERVICENO,ALIAS,CUSTOMERNO,SHORTCODE,VERSION,DNPORTTYPEID,DNPACKAGEID,MAXRATE,CURRENTRATE,FIBERMODE,RATERANGE,CIRNO,CIR,EIR,TELNUM,UPRATE,DOWNRATE,GBICCARDTYPE,ROLES,DNDEVICEID,POSITION,XPOSITION,YPOSITION,DIAMETER,RATE,IDINEMS,EXTENDATTRIBUTE1,EXTENDATTRIBUTE2,EXTENDATTRIBUTE3,EXTENDATTRIBUTE4,EXTENDATTRIBUTE5,EXTENDATTRIBUTE6,EXTENDATTRIBUTE7,EXTENDATTRIBUTE8,EXTENDATTRIBUTE9,EXTENDATTRIBUTE10,NAMEMONIKER,CODEMONIKER,INTERFACETYPE,CIRCUITOCCUPYSTATUS,ACCESSRATE,PREOCCUPIEDENDTIME,PREOCCUPIEDSTARTTIME,EXTENDATTRIBUTE11,EXTENDATTRIBUTE12,EXTENDATTRIBUTE13,EXTENDATTRIBUTE14,EXTENDATTRIBUTE15,EXTENDATTRIBUTE16,EXTENDATTRIBUTE17,EXTENDATTRIBUTE18,EXTENDATTRIBUTE19,EXTENDATTRIBUTE20,EXTENDATTRIBUTE21,EXTENDATTRIBUTE22,EXTENDATTRIBUTE23,EXTENDATTRIBUTE24,EXTENDATTRIBUTE25,EXTENDATTRIBUTE26,EXTENDATTRIBUTE27,EXTENDATTRIBUTE28,EXTENDATTRIBUTE29,EXTENDATTRIBUTE30,ROLESOVERLINE,ROLES_BK,LONGORLOCAL,REGIONID,CREATETIME,MODIFYTIME,SERVICEID,ADSLACCESSNO,USABILITY,RECBUSSTATUS,RECUSERCIRCUIT,IMPORTTIME,BINDTIME,WAITAUDIT,PREADSLACCESSNO,PRETELNUM,VOICESERVICESTATUS,SEQUNECE,MIXMETHOD,STARTSVLAN,ENDSVLAN,IPSEGMENTID,CVLAN,SVLAN,VCI,ISPRECISEBIND,VPI,USERMODEL,INSTRATE,ACTUALRATE,VOICEVLAN,importdate)
  values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,sysdate)</to>
  <fromColsName>ID,ISTEMPLATE,TEMPLATENAME,COMMENTS,DUPLEXMODE,SIGNALTYPE,ISMONITORED,PHYSTATUS,SERVICESTATUS,SERVICENO,ALIAS,CUSTOMERNO,SHORTCODE,VERSION,DNPORTTYPEID,DNPACKAGEID,MAXRATE,CURRENTRATE,FIBERMODE,RATERANGE,CIRNO,CIR,EIR,TELNUM,UPRATE,DOWNRATE,GBICCARDTYPE,ROLES,DNDEVICEID,POSITION,XPOSITION,YPOSITION,DIAMETER,RATE,IDINEMS,EXTENDATTRIBUTE1,EXTENDATTRIBUTE2,EXTENDATTRIBUTE3,EXTENDATTRIBUTE4,EXTENDATTRIBUTE5,EXTENDATTRIBUTE6,EXTENDATTRIBUTE7,EXTENDATTRIBUTE8,EXTENDATTRIBUTE9,EXTENDATTRIBUTE10,NAMEMONIKER,CODEMONIKER,INTERFACETYPE,CIRCUITOCCUPYSTATUS,ACCESSRATE,PREOCCUPIEDENDTIME,PREOCCUPIEDSTARTTIME,EXTENDATTRIBUTE11,EXTENDATTRIBUTE12,EXTENDATTRIBUTE13,EXTENDATTRIBUTE14,EXTENDATTRIBUTE15,EXTENDATTRIBUTE16,EXTENDATTRIBUTE17,EXTENDATTRIBUTE18,EXTENDATTRIBUTE19,EXTENDATTRIBUTE20,EXTENDATTRIBUTE21,EXTENDATTRIBUTE22,EXTENDATTRIBUTE23,EXTENDATTRIBUTE24,EXTENDATTRIBUTE25,EXTENDATTRIBUTE26,EXTENDATTRIBUTE27,EXTENDATTRIBUTE28,EXTENDATTRIBUTE29,EXTENDATTRIBUTE30,ROLESOVERLINE,ROLES_BK,LONGORLOCAL,REGIONID,CREATETIME,MODIFYTIME,SERVICEID,ADSLACCESSNO,USABILITY,RECBUSSTATUS,RECUSERCIRCUIT,IMPORTTIME,BINDTIME,WAITAUDIT,PREADSLACCESSNO,PRETELNUM,VOICESERVICESTATUS,SEQUNECE,MIXMETHOD,STARTSVLAN,ENDSVLAN,IPSEGMENTID,CVLAN,SVLAN,VCI,ISPRECISEBIND,VPI,USERMODEL,INSTRATE,ACTUALRATE,VOICEVLAN</fromColsName>
</data_extract>


<data_extract desc="NM_FTTB" isNeedRun="true" hasChildren="false" rate="77">
  <from datasource="datasource_dqc" pkColumn="ID"  cols="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18">select ID,DEVICEID,REGION,NAME,CODE,DEVICEMODEL,DEVICETYPE,ACCESSMODE,VENDOR,IDINEMS,TELNETIP,OLTIP,MAC,SNCODE,SUMOFPORT,IMPORTDATE,OUTERVLAN,OLTPORTID from dqc_cmp_nm_pondevice t</from>
  <to datasource="datasource_dqc" toTable="CMP_NM_FTTB" pkColumn="ID" pkColumnType="NUMBER(18)" batch="10000">INSERT INTO CMP_NM_FTTB    (ID,DEVICEID,REGION,NAME,CODE,DEVICEMODEL,DEVICETYPE,ACCESSMODE,VENDOR,IDINEMS,TELNETIP,OLTIP,MAC,SNCODE,SUMOFPORT,IMPORTDATE,SVLAN,OLTPORTID) 
VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)</to>
  <fromColsName>ID,DEVICEID,REGION,NAME,CODE,DEVICEMODEL,DEVICETYPE,ACCESSMODE,VENDOR,IDINEMS,TELNETIP,OLTIP,MAC,SNCODE,SUMOFPORT,IMPORTDATE,OUTERVLAN,OLTPORTID</fromColsName>
</data_extract>

<data_extract desc="NG_FTTB" isNeedRun="true" hasChildren="false" rate="38">
  <from datasource="datasource_dqc" pkColumn="ID" cols="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19">select ID,REGION,DEVICEID,DEVICEID_STR,DEVICENAME,DEVICETYPE,VENDOR,DEVICEMODEL,IP,OLTIP,MAC,SN,ACCESSMODE,ONUAUTHTYPE,ONUNO,SUMOFPORT,IMPORTDATE,SVLAN,PONID
   from dqc_cmp_ng_pondevice </from>
  <to datasource="datasource_dqc" toTable="CMP_NG_FTTB" pkColumn="ID" batch="10000">INSERT INTO CMP_NG_FTTB    (ID,REGION,DEVICEID,DEVICEID_STR,DEVICENAME,DEVICETYPE,VENDOR,DEVICEMODEL,IP,OLTIP,MAC,SN,ACCESSMODE,ONUAUTHTYPE,ONUNO,SUMOFPORT,IMPORTDATE,SVLAN,OLTPORTID) 
VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)</to>
  <fromColsName>ID,REGION,DEVICEID,DEVICEID_STR,DEVICENAME,DEVICETYPE,VENDOR,DEVICEMODEL,IP,OLTIP,MAC,SN,ACCESSMODE,ONUAUTHTYPE,ONUNO,SUMOFPORT,IMPORTDATE,SVLAN,PONID</fromColsName>
</data_extract>


<data_extract desc="region抽取" hasChildren="false" rate="52">
      <from datasource="datasource_nm" pkColumn="ID" cols="1,2,3,4">     
      	 select ID,NAMECN,NAMEPY,CODE from region
      </from>
      <to datasource="datasource_dqc" batch="10000" toTable="DQC_NM_REGION" pkColumn="ID">
      		insert into DQC_NM_REGION(ID,NAMECN,NAMEPY,CODE,importdate)  values(?,?,?,?,sysdate)</to>
      <fromColsName>ID,NAMECN,NAMEPY,CODE</fromColsName>
      <option disableIndex="true" analyzeTable="true"/>
    </data_extract>
    
<data_extract desc="CMP_NG_FTTBPORT" isNeedRun="true" hasChildren="false" rate="35">
  <from datasource="datasource_dqc" pkColumn="PORTID" pkColumnType="NUMBER(18)" cols="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16">select p.ID,
       p.PORTID,
       p.DEVICEID,
       p.SHELFNO,
       p.SUBNENO,
       p.DNSLOTNO,
       p.DNPORTNO,
       p.COMBINENO,
       p.STATUS,
       p.SVLAN,
       p.CVLAN,
       p.VOIPSVLAN,
       p.VOIPCVLAN,
       p.PORTTYPE,
       p.USERNAME,
       p.IMPORTDATE
  from dqc_cmp_ng_ponport p, cmp_ng_fttb t
 where p.Deviceid = t.deviceid</from>
  <to datasource="datasource_dqc" toTable="CMP_NG_FTTBPORT" pkColumn="PORTID" batch="10000">INSERT INTO CMP_NG_FTTBPORT(ID,PORTID,DEVICEID,SHELFNO,SUBNENO,DNSLOTNO,DNPORTNO,COMBINENO,STATUS,SVLAN,CVLAN,VOIPSVLAN,VOIPCVLAN,PORTTYPE,USERNAME,IMPORTDATE) 
VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)</to>
  <fromColsName>ID,PORTID,DEVICEID,SHELFNO,SUBNENO,DNSLOTNO,DNPORTNO,COMBINENO,STATUS,SVLAN,CVLAN,VOIPSVLAN,VOIPCVLAN,PORTTYPE,USERNAME,IMPORTDATE</fromColsName>
</data_extract>
